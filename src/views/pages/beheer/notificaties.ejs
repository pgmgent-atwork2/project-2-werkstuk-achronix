<a class="back" href="/beheerderspaneel">
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
    class="size-6">
    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
  </svg>
  Ga terug naar beheerderspaneel overzicht</a>
<div>
  <h1 class="title">Notificaties versturen</h1>

  <% if (locals.flash) { %>
    <% ['success', 'error' , 'warning' ].forEach(type=>
      { %> <% if (flash[type]) { %>
        <div class="error-message <%= type === 'success' ? 'error-message--successful' : '' %>">
          <%= flash[type] %>
        </div>
        <% } %>
          <% }) %>
            <% } %>

              <section>
                <div class="notification-form-section">
                  <h2>Nieuwe notificatie aanmaken</h2>
                  <form id="newNotificationForm" class="notification-form">
                    <div class="notification-form__field">
                      <label for="recipient_type" class="notification-form__label">Versturen naar</label>
                      <select id="recipient_type" name="recipient_type" class="notification-form__select" required>
                        <option value="all">Alle gebruikers</option>
                        <option value="single">Specifieke gebruiker</option>
                      </select>
                    </div>

                    <div class="notification-form__field" id="user_selection_field" style="display: none;">
                      <label for="selected_user" class="notification-form__label">Selecteer gebruiker</label>
                      <select id="selected_user" name="selected_user" class="notification-form__select">
                        <option value="">-- Selecteer gebruiker --</option>
                      </select>
                    </div>

                    <div class="notification-form__field">
                      <label for="new_title" class="notification-form__label">Titel</label>
                      <input type="text" id="new_title" name="title" class="notification-form__input" required />
                    </div>

                    <div class="notification-form__field">
                      <label for="new_message" class="notification-form__label">Bericht</label>
                      <textarea id="new_message" name="message" rows="4" class="notification-form__textarea"
                        required></textarea>
                    </div>

                    <button type="submit" class="btn btn--primary notification-form__button" id="send_notification_btn">
                      Versturen naar alle gebruikers
                    </button>
                  </form>
                </div>
              </section>
</div>

<script type="module" src="/scripts/notification/notification-management.js"></script>